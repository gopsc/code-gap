for threads message sending, one buffer to save data, another to take data.when data collect, if taking buffer is reading, plus to saving buffer, if not, plus saving buffer data to taking buffer.

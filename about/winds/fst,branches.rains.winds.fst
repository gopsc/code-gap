add type transforms before numbers

add clean after memory resize


change the order of variable creating and freeing

use more clearly variable to value, lengths, sizes and values


add value process at early return
